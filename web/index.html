<script src="libraries/jquery-3.3.1.min.js"></script>
<script src="libraries/bootstrap.4.0.min.js"></script>
<script src="libraries/bootbox.5.4.min.js"></script>


<script src="libraries/papaparse.4.3.6.min.js"></script>
<script src="libraries/popper.min.js"></script>

<link rel="stylesheet" type="text/css" href="libraries/bootstrapCollector.css">
<link rel="stylesheet" type="text/css" href="libraries/bootbox.fix.css">


<style>
.goal_input{
  width: 100px;
  text-align: center;
}
</style>



<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
    <li class="nav-item" role="presentation">
      <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#v-pills-home" role="tab" aria-controls="v-pills-home" aria-selected="true">Home</a>
    </li>
    <li class="nav-item" role="presentation">
      <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#v-pills-profile" role="tab" aria-controls="v-pills-profile" aria-selected="false">Profile</a>
    </li>
    <li class="nav-item" role="presentation">
      <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#v-pills-predictions" role="tab" aria-controls="v-pills-predictions" aria-selected="false">Predictions</a>
    </li>
  </ul>
  <span class="navbar-text">
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
      Sign in/Register
    </button>
  </span>
</nav>

<div class="tab-content" id="v-pills-tabContent">
  <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab">iframe for dashboard</div>
  <div class="tab-pane fade" id="v-pills-profile" role="tabpanel" aria-labelledby="v-pills-profile-tab">
    <form style="margin:50px">
      <p>You can't change your username or email.</p>
      <div class="form-group row">
        <label for="input_Email" class="col-sm-2 col-form-label">Email</label>
        <div class="col-sm-10">
          <input type="email" class="form-control" id="input_Email" readonly>
        </div>
      </div>
      <div class="form-group row">
        <label for="input_User" class="col-sm-2 col-form-label">Username</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="input_User" readonly>
        </div>
      </div>
      <div class="form-group row">
        <label for="input_Crew" class="col-sm-2 col-form-label">Crew name</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="input_Crew" placeholder="(Optional)">
        </div>
      </div>
      <div class="form-group row">
        <label for="input_Support" class="col-sm-2 col-form-label">I am supporting</label>
        <div class="col-sm-10">
          <select class="custom-select mr-sm-2" id="input_Support">
            <option selected>Choose...</option>
            <option>Austria</option>
            <option>Belgium</option>
            <option>Croatia</option>
            <option>Czech Republic</option>
            <option>Denmark</option>
            <option>England</option>
            <option>Finland</option>
            <option>France</option>
            <option>Germany</option>
            <option>Hungary</option>
            <option>Italy</option>
            <option>Netherlands</option>
            <option>North Macedonia</option>
            <option>Poland</option>
            <option>Portugal</option>
            <option>Russia</option>
            <option>Scotland</option>
            <option>Slovakia</option>
            <option>Spain</option>
            <option>Sweden</option>
            <option>Switzerland</option>
            <option>Turkey</option>
            <option>Ukraine</option>
            <option>Wales</option>
          </select>
        </div>
      </div>
      <button class="btn btn-primary">Submit</button>
    </form>


  </div>
  <div class="tab-pane fade" id="v-pills-predictions" role="tabpanel" aria-labelledby="v-pills-predictions-tab">

Predictions are per round...
<br>
Deadlines...
<br>
More info...
<br>
Predictions are for the score at full time (this includes stoppage time, and extra time, if applicable.)
<br>
If a match is decided by a penalty shootout, the score before the penalty shootout counts.
<br>
You can change your predictions as often as you like, before the round starts.

    <div class="accordion" id="accordionExample">
      <div class="card">
        <div class="card-header" id="headingOne">
          <h2 class="mb-0">
            <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
              General
            </button>
          </h2>
        </div>

        <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
          <div class="card-body">
            <div class="row">
              <div class="col-3">
                <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                  <a class="nav-link active" id="v-pills-general-tab" data-toggle="pill" href="#v-pills-round1" role="tab" aria-controls="v-pills-general" aria-selected="true">General</a>
                </div>
              </div>
              <div class="col-9">
                <div class="tab-content" id="v-pills-tabContent">
                  <div class="tab-pane fade show active" id="v-pills-general" role="tabpanel" aria-labelledby="v-pills-home-general">
                    <p>Deadline for this round's predictions: 10 June, 23:59 CEST</p>

                    <div class="form-group row">
                      <label for="inputEmail3" class="col-sm-2 col-form-label">Champions</label>
                      <div class="col-sm-10">
                        <select class="custom-select mr-sm-2" id="inlineFormCustomSelect_champs">
                          <option selected>Choose...</option>
                          <option>Austria</option>
                          <option>Belgium</option>
                          <option>Croatia</option>
                          <option>Czech Republic</option>
                          <option>Denmark</option>
                          <option>England</option>
                          <option>Finland</option>
                          <option>France</option>
                          <option>Germany</option>
                          <option>Hungary</option>
                          <option>Italy</option>
                          <option>Netherlands</option>
                          <option>North Macedonia</option>
                          <option>Poland</option>
                          <option>Portugal</option>
                          <option>Russia</option>
                          <option>Scotland</option>
                          <option>Slovakia</option>
                          <option>Spain</option>
                          <option>Sweden</option>
                          <option>Switzerland</option>
                          <option>Turkey</option>
                          <option>Ukraine</option>
                          <option>Wales</option>
                        </select>
                      </div>
                    </div>

                    <div class="form-group row">
                      <label for="inputEmail3" class="col-sm-2 col-form-label">Top scorer's country</label>
                      <div class="col-sm-10">
                        <select class="custom-select mr-sm-2" id="inlineFormCustomSelect_topCountry">
                          <option selected>Choose...</option>
                          <option>Austria</option>
                          <option>Belgium</option>
                          <option>Croatia</option>
                          <option>Czech Republic</option>
                          <option>Denmark</option>
                          <option>England</option>
                          <option>Finland</option>
                          <option>France</option>
                          <option>Germany</option>
                          <option>Hungary</option>
                          <option>Italy</option>
                          <option>Netherlands</option>
                          <option>North Macedonia</option>
                          <option>Poland</option>
                          <option>Portugal</option>
                          <option>Russia</option>
                          <option>Scotland</option>
                          <option>Slovakia</option>
                          <option>Spain</option>
                          <option>Sweden</option>
                          <option>Switzerland</option>
                          <option>Turkey</option>
                          <option>Ukraine</option>
                          <option>Wales</option>
                        </select>
                      </div>
                    </div>

                    This helps us to identify the player you have predicted to be the top scorer.

                    <div class="form-group row">
                      <label for="inputEmail3" class="col-sm-2 col-form-label">Top scorer</label>
                      <div class="col-sm-10">
                        <input type="text" class="form-control" id="inputEmail3" placeholder="First name + surname">
                      </div>
                    </div>

                    Try to spell the name of the player exactly (but not necessary... bla bla)

                    <div class="form-group row">
                      <label for="inputEmail3" class="col-sm-2 col-form-label">Total number of goals</label>
                      <div class="col-sm-10">
                        <input type="number" class="form-control" id="inputEmail3" placeholder=0 min=0 max=999>
                      </div>
                    </div>

                    <button class="btn btn-primary">Submit</button>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="card-header" id="headingTwo">
          <h2 class="mb-0">
            <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              Group Stage
            </button>
          </h2>
        </div>
        <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
          <div class="card-body">
            <div class="row">
              <div class="col-3">
                <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                  <a class="nav-link active" id="v-pills-round1-tab" data-toggle="pill" href="#v-pills-round1" role="tab" aria-controls="v-pills-round1" aria-selected="true">Round 1</a>
                  <a class="nav-link" id="v-pills-round2-tab" data-toggle="pill" href="#v-pills-round2" role="tab" aria-controls="v-pills-round2" aria-selected="false">Round 2</a>
                  <a class="nav-link" id="v-pills-round3-tab" data-toggle="pill" href="#v-pills-round3" role="tab" aria-controls="v-pills-round3" aria-selected="false">Round 3</a>
                </div>
              </div>
              <div class="col-9">
                <div class="tab-content" id="v-pills-tabContent">
                  <div class="tab-pane fade show active" id="v-pills-round1" role="tabpanel" aria-labelledby="v-pills-home-round1">
                    <p>Deadline for this round's predictions: 10 June, 23:59 CEST</p>

                    <table class="table table-hover" id="round_1_table">
                      <thead>
                        <tr>
                          <th scope="col">Group</th>
                          <th scope="col">Home Team</th>
                          <th scope="col">Home Goals</th>
                          <th scope="col">Away Goals</th>
                          <th scope="col">Away Team</th>
                        </tr>
                      </thead>
                    </table>

                  </div>
                  <div class="tab-pane fade" id="v-pills-round2" role="tabpanel" aria-labelledby="v-pills-round2-tab">
                    <p>Deadline for this round's predictions: 15 June, 23:59 CEST</p>

                    <table class="table table-hover" id="round_2_table">
                      <thead>
                        <tr>
                          <th scope="col">Group</th>
                          <th scope="col">Home Team</th>
                          <th scope="col">Home Goals</th>
                          <th scope="col">Away Goals</th>
                          <th scope="col">Away Team</th>
                        </tr>
                      </thead>
                    </table>

                  </div>
                  <div class="tab-pane fade" id="v-pills-round3" role="tabpanel" aria-labelledby="v-pills-round3-tab">
                    <p>Deadline for this round's predictions: 20 June, 23:59 CEST</p>

                    <table class="table table-hover" id="round_3_table">
                      <thead>
                        <tr>
                          <th scope="col">Group</th>
                          <th scope="col">Home Team</th>
                          <th scope="col">Home Goals</th>
                          <th scope="col">Away Goals</th>
                          <th scope="col">Away Team</th>
                        </tr>
                      </thead>
                    </table>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="card-header" id="headingThree">
          <h2 class="mb-0">
            <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
              Knockout Stage
            </button>
          </h2>
        </div>
        <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">
          <div class="card-body">
            <div class="row">
              <div class="col-3">
                <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                  <a class="nav-link active" id="v-pills-KO16-tab" data-toggle="pill" href="#v-pills-KO16" role="tab" aria-controls="v-pills-KO16" aria-selected="true">Round of 16</a>
                  <a class="nav-link" id="v-pills-KOQF-tab" data-toggle="pill" href="#v-pills-KOQF" role="tab" aria-controls="v-pills-KOQF" aria-selected="false">Quarter-final</a>
                  <a class="nav-link" id="v-pills-KOSF-tab" data-toggle="pill" href="#v-pills-KOSF" role="tab" aria-controls="v-pills-KOSF" aria-selected="false">Semi-final</a>
                  <a class="nav-link" id="v-pills-KOF-tab" data-toggle="pill" href="#v-pills-KOF" role="tab" aria-controls="v-pills-KOF" aria-selected="false">Final</a>
                </div>
              </div>
              <div class="col-9">
                <div class="tab-content" id="v-pills-tabContent">
                  <div class="tab-pane fade show active" id="v-pills-KO16" role="tabpanel" aria-labelledby="v-pills-home-KO16">
                    <p>Deadline for this round's predictions: 25 June, 23:59 CEST</p>

                    <p>This round will become available when the home and away teams are known</p>

                    <table class="table table-hover" id="KO_16_table">
                      <thead>
                        <tr>
                          <th scope="col">Group</th>
                          <th scope="col">Home Team</th>
                          <th scope="col">Home Goals</th>
                          <th scope="col">Away Goals</th>
                          <th scope="col">Away Team</th>
                        </tr>
                      </thead>
                    </table>

                  </div>
                  <div class="tab-pane fade" id="v-pills-KOQF" role="tabpanel" aria-labelledby="v-pills-KOQF-tab">
                    <p>Deadline for this round's predictions: 1 July, 23:59 CEST</p>

                    <p>This round will become available when the home and away teams are known</p>

                    <table class="table table-hover" id="KO_QF_table">
                      <thead>
                        <tr>
                          <th scope="col">Group</th>
                          <th scope="col">Home Team</th>
                          <th scope="col">Home Goals</th>
                          <th scope="col">Away Goals</th>
                          <th scope="col">Away Team</th>
                        </tr>
                      </thead>
                    </table>

                  </div>
                  <div class="tab-pane fade" id="v-pills-KOSF" role="tabpanel" aria-labelledby="v-pills-KOSF-tab">
                    <p>Deadline for this round's predictions: 6 July, 23:59 CEST</p>

                    <p>This round will become available when the home and away teams are known</p>

                    <table class="table table-hover" id="KO_SF_table">
                      <thead>
                        <tr>
                          <th scope="col">Group</th>
                          <th scope="col">Home Team</th>
                          <th scope="col">Home Goals</th>
                          <th scope="col">Away Goals</th>
                          <th scope="col">Away Team</th>
                        </tr>
                      </thead>
                    </table>

                  </div>
                  <div class="tab-pane fade" id="v-pills-KOF" role="tabpanel" aria-labelledby="v-pills-KOF-tab">
                    <p>Deadline for this round's predictions: 10 July, 23:59 CEST</p>

                    <p>This round will become available when the home and away team are known</p>

                    <table class="table table-hover" id="KO_F_table">
                      <thead>
                        <tr>
                          <th scope="col">Group</th>
                          <th scope="col">Home Team</th>
                          <th scope="col">Home Goals</th>
                          <th scope="col">Away Goals</th>
                          <th scope="col">Away Team</th>
                        </tr>
                      </thead>
                    </table>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


  </div>
</div>


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="exampleInputEmail1">Email address</label>
            <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email">
            <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
          </div>
          <div class="form-group">
            <label for="exampleInputPassword1">Password</label>
            do the eye thing which hides or shows the password
            <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
            Notes about security
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" id="" class="btn btn-primary">Login</button>
        <button type="button" id="register_btn" class="btn btn-primary">Register</button>
        <button type="button" class="btn btn-primary">Forgot Password</button>
      </div>
    </div>
  </div>
</div>

<script>
var match_data;
var match_obj = {
  phases: {}
};
$.get("match_data.csv", function(match_get){
  match_data = Papa.parse(match_get, {
    header: true
  }).data;
  match_data = match_data.filter(
    row => row.Year == 2020
  );

  match_obj.phases.group_match_1 = match_data.filter(
    row => row.Round_selector == "Group match 1"
  );

  match_obj.phases.group_match_2 = match_data.filter(
    row => row.Round_selector == "Group match 2"
  );

  match_obj.phases.group_match_3 = match_data.filter(
    row => row.Round_selector == "Group match 3"
  );

  match_obj.phases.round_16 = match_data.filter(
    row => row.Round_selector == "Round of 16"
  );

  match_obj.phases.quarter_final = match_data.filter(
    row => row.Round_selector == "Quarterfinal"
  );

  match_obj.phases.semi_final = match_data.filter(
    row => row.Round_selector == "Semifinal"
  );

  match_obj.phases.final = match_data.filter(
    row => row.Round_selector == "Final"
  );

  populate_group_tables();
});

function populate_group_tables(){

  match_obj.phases.group_match_1.forEach(function(row){
    $("#round_1_table")
      .append($("<tr>")
        .append($("<td>").append(row.Group))
        .append($("<td>").append(row.Home))
        .append($("<td>").append(
          "<input type='number' class='form-control goal_input home_goals " + row.Match_ID + "'>"
        ))
        .append($("<td>").append(
          "<input type='number' class='form-control goal_input away_goals " + row.Match_ID + "'>"
        ))
        .append($("<td>").append(row.Away))
      );



  });

  match_obj.phases.group_match_2.forEach(function(row){
    $("#round_2_table")
      .append($("<tr>")
        .append($("<td>").append(row.Group))
        .append($("<td>").append(row.Home))
        .append($("<td>").append(
          "<input type='number' class='form-control goal_input home_goals " + row.Match_ID + "'>"
        ))
        .append($("<td>").append(
          "<input type='number' class='form-control goal_input away_goals " + row.Match_ID + "'>"
        ))
        .append($("<td>").append(row.Away))
      );



  });

  match_obj.phases.group_match_3.forEach(function(row){
    $("#round_3_table")
      .append($("<tr>")
        .append($("<td>").append(row.Group))
        .append($("<td>").append(row.Home))
        .append($("<td>").append(
          "<input type='number' class='form-control goal_input home_goals " + row.Match_ID + "'>"
        ))
        .append($("<td>").append(
          "<input type='number' class='form-control goal_input away_goals " + row.Match_ID + "'>"
        ))
        .append($("<td>").append(row.Away))
      );



  });



}

$("#register_btn").on("click", function(){
  bootbox.prompt("Confirm password:", function(){
    alert("hi");
  });
});
</script>

<!--

User management
need confirmation email
Username and login (hashed)


Every form
Log submission time
end with: “your prediction will appear within a day” (but hidden until the round starts, so others cannot see your predictions)
“in case you resubmit/change your predictions, we will only use your latest submission.”

File management
Store forms as MySQL / CSV
Maximum number of submissions per user (let the user know)
How to export to R (Kris’ computer?)
-->
